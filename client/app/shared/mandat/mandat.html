<h2 class="page-header">Gestion de mes propres mandats</h2>

<form class="form pull-right" role="form">
  <div class="form-group">
      <label for="page_search">Chercher parmis ses mandats : </label>
      <input id="page_search" type="text" class="form-control" ng-model="mandatSearchText" placeholder="Votre recherche">
  </div>
</form>

<a class="btn btn-primary" ui-sref="app.createMandat"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Ajouter un mandat</a>
<br/>
<br/>


<alert type="success" ng-if="success" close="closeAlert()">
  <span class="glyphicon glyphicon-ok-sign" aria-hidden="true"></span> Votre mandat a bien été créé.
</alert>
<alert type="success" ng-if="editSuccess" close="closeAlert()"><span class="glyphicon glyphicon-ok-sign" aria-hidden="true"></span> Votre mandat a bien été modifié.</alert>

<table class="table table-hover">
  <thead>
    <tr>
      <th>
        <span class="pull-right">Titre</span>
      </th>
      <th>
        <span class="pull-right">Adresse</span>
      </th>
      <th>
        <span class="pull-right">Prix</span>
      </th>
      <th>
        <span class="pull-right">crée</span>
      </th>
      <th>
        <span class="pull-right">fin de validité</span>
      </th>
      <th>
        <span class="pull-right">Actions</span>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr ng-repeat="mandat in mandats | filter:mandatSearchText">
      <td>
        <a ui-sref="app.showMandat({id : mandat._id})">
        {{mandat.title}}</a>
      </td>
      <td>
        {{mandat.adresse}}
      </td>
      <td>
       {{mandat.prix}}
      </td>
      <td>
        {{mandat.date_creation | date:'dd/MM/yyyy'}}
      </td>
      <td>
       {{mandat.date_validite | date:'dd/MM/yyyy'}}
      </td>
      <td>
      <td>
        <a ui-sref="app.editMandat({id : mandat._id})" class="btn btn-info btn-sm">
          <span class="glyphicon glyphicon-pencil" aria-hidden="true">
          </span> Modifier
        </a>
        <button class="btn btn-danger btn-sm" ng-click="deleteMandat($index)">
          <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
        </button>
      </td>
    </tr>
  </tbody>
</table>
